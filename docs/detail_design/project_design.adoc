= AI Photo Cleaner 詳細設計書
:toc: left
:toclevels: 3
:sectnums:
:icons: font
:source-highlighter: highlight.js

== 概要

=== プロジェクト概要
**AI Photo Cleaner** は、スマートフォンの写真整理を自動化するAI搭載アプリケーションです。

==== コンセプト
「写真整理の悩みを5分で解決する、AI搭載スマートクリーナー」

==== ターゲット市場
* 日本国内スマホユーザー（97% = 約1億2000万人の潜在市場）
* 写真保存に困っているユーザー（8割以上）

==== 主要価値提案
* 重複・類似・低品質写真をAIが自動検出
* 平均2GBの容量を5分で節約
* 安全な削除確認システム

=== 市場分析結果

==== 主要な課題・ニーズ
[cols="1,3,2"]
|===
|課題分野 |具体的な困りごと |解決アプローチ

|ストレージ管理
|重複写真がストレージを圧迫
|AI重複検出エンジン

|時間効率
|手動整理に時間がかかる
|ワンタップ一括処理

|安全性
|誤削除への不安
|多段階確認システム
|===

==== 競合優位性
* **精度向上**: 既存アプリは類似写真の検出精度が低い
* **包括的解決**: 重複・類似・品質を一括処理
* **効果可視化**: 削除効果を分かりやすく数値表示

== アーキテクチャ設計

=== システム全体構成

[source]
----
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   フロントエンド   │    │   AI処理エンジン   │    │  バックエンド/SaaS │
│                │    │                │    │                │
│ React Native    │◄──►│ TensorFlow Lite │    │ Firebase        │
│ • UI Components │    │ • 重複検出      │    │ • Analytics     │
│ • State Mgmt    │    │ • 類似度判定    │    │ • Crashlytics   │
│ • Navigation    │    │ • 品質評価      │    │ • Remote Config │
│ • Device APIs   │    │                │    │                │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                               │
                    ┌─────────────────┐
                    │ ローカルDB (SQLite) │
                    │ • 写真メタデータ    │
                    │ • 分析結果        │
                    │ • ユーザー設定     │
                    └─────────────────┘
----

=== 技術スタック

[cols="1,2,3"]
|===
|レイヤー |技術 |選定理由

|フロントエンド
|React Native
|iOS/Android同時開発、開発効率

|AI処理
|TensorFlow Lite
|端末内処理、高速化、プライバシー保護

|ローカルDB
|SQLite
|軽量、高速、オフライン対応

|認証・分析
|Firebase
|迅速な導入、スケーラビリティ

|広告
|Google AdMob
|収益化、React Native対応

|決済
|App Store/Google Play
|標準的な課金システム
|===

=== データフロー

. **アプリ起動** → 写真ライブラリアクセス権限取得
. **メタデータ収集** → 写真情報を段階的にロード
. **AI分析** → 重複・類似・品質を並列処理
. **結果表示** → カテゴリ別に整理して提示
. **ユーザー確認** → 安全な削除確認フロー
. **実行・レポート** → 削除実行と効果可視化

== 機能要件

=== MVP機能セット

==== Core機能
* 写真ライブラリアクセス
* 重複写真検出（完全一致）
* 削除確認UI
* 効果レポート表示

==== Premium機能
* 類似写真検出（AI類似度判定）
* 品質評価による推奨
* 無制限処理
* 広告非表示

=== 機能優先順位

[cols="1,2,1,3"]
|===
|優先度 |機能 |実装工数 |説明

|P0
|重複写真検出
|2週間
|完全一致の重複を検出・削除

|P0
|基本UI
|1週間
|メイン画面・結果表示・設定

|P1
|類似写真検出
|3週間
|AI類似度判定エンジン

|P1
|品質評価
|2週間
|ブレ・暗さ・構図の評価

|P2
|定期クリーンアップ
|1週間
|バックグラウンド処理

|P2
|バックアップ連携
|2週間
|クラウドサービス連携
|===

== 収益化戦略

=== フリーミアムモデル

==== 無料版（広告表示）
* 月100枚まで処理制限
* 基本的な重複検出のみ
* バナー・インタースティシャル広告

==== プレミアム版（月額480円）
* 無制限処理
* 高度AI分析
* 広告非表示
* 自動定期クリーンアップ

=== 収益予測

[cols="1,2,2,2"]
|===
|期間 |ダウンロード数 |課金率 |月間予想収益

|3ヶ月後
|3万DL
|2%
|3万円

|6ヶ月後
|10万DL
|3%
|15万円

|12ヶ月後
|50万DL
|4%
|100万円
|===

== リスク分析

=== 技術リスク

[cols="2,1,3"]
|===
|リスク |影響度 |対策

|AI検出精度不足
|高
|プロトタイプでの事前検証、段階的改善

|パフォーマンス問題
|中
|並列処理、バッチ処理の最適化

|プラットフォーム制限
|中
|各OSの制限事項を事前調査
|===

=== 事業リスク

[cols="2,1,3"]
|===
|リスク |影響度 |対策

|競合の強力な参入
|中
|先行優位性の確立、継続的機能改善

|市場飽和
|低
|隣接市場への展開（動画整理等）

|ストア審査否認
|中
|ガイドライン遵守、事前レビュー
|===

== 開発スケジュール

=== Phase別計画

==== Phase 1: MVP開発（Week 1-4）
* 基本UI実装
* 重複検出エンジン
* ローカルDB設計

==== Phase 2: AI機能追加（Week 5-8）
* 類似度判定実装
* 品質評価エンジン
* パフォーマンス最適化

==== Phase 3: 完成・テスト（Week 9-12）
* UI/UX完成
* 統合テスト
* ベータテスト実施

==== Phase 4: リリース（Week 13）
* ストア審査対応
* マーケティング開始
* 正式リリース

== 次のステップ

この設計書を基に、以下の詳細設計書を順次作成：

. link:uixx_design.adoc[UI/UX詳細設計書]
. link:ai_engine_design.adoc[AI エンジン設計書]  
. link:database_design.adoc[データベース設計書]
. link:code_guide.adoc[実装ガイド]
. link:test_design.adoc[テスト戦略書]

TIP: 各設計書は独立して参照可能ですが、本書と併読することを推奨します。